# seckill
商品秒杀系统——Java并发实战和并发优化


#### 优化总结：
1. 前端控制：暴露接口，按钮防重复
2. 动静态数据分离：CDN缓存，后端缓存
3. 事务竞争优化：减少事务锁时间（存储过程）


#### 后端优化
1. 使用redis缓存热门商品
    - 优化点：暴露接口。
    - 用户可能一直再刷页面。越热的产品访问越多
2. 事务简单优化：秒杀执行优化  
	- 行级锁发生在**减库存**操作
	- 先执行**记录购买行为**，再执行**减库存**操作
 
#### 事务竞争优化
1. 事务SQL在MySql端执行（存储过程）
2. 存储过程优化：事务行级锁持有时间
	- 不要过多依赖存储过程
   	- 简单的逻辑可以应用存储过程
   	- QPS: 一个秒杀单6000/qps

